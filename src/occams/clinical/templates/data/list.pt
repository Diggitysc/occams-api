<html i18n:domain="occams.clinical" metal:use-macro="main_template">
  <metal:content-slot fill-slot="content-slot">

    <p i18n:translate="" class="lead">
      Please select the files you would like to download.
      All exports include a data dictionary.
    </p>

    <form
        role="form"
        name="export"
        method="POST"
        action="${request.current_route_path()}">

      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th class="select">
                <input type="checkbox" data-toggle="selectall" />
              </th>
              <th class="name" i18n:translate="">Name</th>
              <th class="title" i18n:translate="">Title</th>
              <th class="publsished" i18n:translate="">Published</th>
            </tr>
          </thead>
          <tbody>
            <tr class="active">
              <th></th>
              <th colspan="3" i18n:translate="">System Tables</th>
            </tr>
            <tr tal:repeat="builtin builtins">
              <td class="select">
                <input
                    type="checkbox"
                    name="tables"
                    value="${builtin}"
                    data-toggle="select"
                    data-class="warning" />
              </td>
              <td class="name" colspan="3">${builtin}</td>
            </tr>
            <tr class="active">
              <th></th>
              <th colspan="3" i18n:translate="">eCRF Data Types</th>
            </tr>
            <tr tal:repeat="ecrf ecrfs">
              <td class="select">
                <input
                    type="checkbox"
                    name="ecrfs"
                    value="${ecrf.id}"
                    data-toggle="select"
                    data-class="warning" />
              </td>
              <td class="name">${ecrf.name}</td>
              <td class="title">${ecrf.title}</td>
              <td class="published">${ecrf.publish_date.isoformat()}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="alert alert-info">
        <strong i18n:translate="">Please note:</strong>
        <span i18n:translate="">
          Depending on the size of your data, this may take time so be patient.
        </span>
      </div>

      <input type="hidden" name="csrf_token" value="${csrf_token}" />

      <p>
        <button
            type="submit"
            name="submit"
            class="pull-right btn btn-lg btn-primary"
            i18n:translate="">Export</button>
      </p>

    </form>

  </metal:content-slot>
</html>
