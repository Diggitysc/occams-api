<!DOCTYPE html>
<html metal:use-macro="load:../master.pt">
  <metal:content-slot fill-slot="content-slot">
    <form class="form-login"
        role="form"
        method="POST"
        action="${request.route_path('login', _query={'referrer': referrer})}">
      <h2 class="form-login-heading" i18n:translate="">Please log in</h2>
      <div
        class="alert alert-danger"
        tal:define="message request.session.pop_flash('error')"
        tal:condition="message">${message}</div>
      <input tal:replace="
          structure: form.login(type='email',
                                class_='form-control',
                                placeholder='Username',
                                autofocus='1')" />
      <input tal:replace="
          structure: form.password(class_='form-control',
                                   placeholder='Password')" />
      <button
          class="btn btn-lg btn-primary btn-block"
          type="submit"
          i18n:translate="">Log in</button>
    </form>
  </metal:content-slot>
</html>
