<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xml:lang="en"
    lang="en"
    i18n:domain="occams.form"
    metal:use-macro="main_template">
  <metal:content-slot fill-slot="content-slot">
    <p class="well" tal:condition="not:forms_count">
      The system does not contain any forms.
      <a href="${request.current_route_path(_route_name='form_add')}">Add one.</a>
    </p>
    <div tal:condition="forms_count">
      <p tal:condition="python: forms_count > 1">
        There are <strong>${forms_count}</strong> forms in the system.
      </p>
      <table id="forms" class="table table-hover table-striped"
          tal:condition="forms_count">
        <thead>
          <tr>
            <th class="title">Title</th>
            <th class="name">Schema</th>
            <th class="publish_date">Current</th>
            <th class="start_date">Original</th>
            <th class="version_count">Versions</th>
          </tr>
        </thead>
        <tbody>
          <tr tal:define="highlight highlight|nothing"
              tal:repeat="form forms"
              tal:attributes="class python:'success' if form.name == highlight else ''">
            <td class="title">
              <a href="${request.current_route_path(_route_name='form_view',
                                                    form_name=form.name)}
                ">${form.title}</a>
            </td>
            <td class="name"><code>${form.name}</code></td>
            <td class="publish_date">${form.publish_date}</td>
            <td class="start_date">${form.start_date}</td>
            <td class="version_count">${form.version_count}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </metal:content-slot>
</html>

